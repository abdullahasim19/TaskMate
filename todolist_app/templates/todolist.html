{% extends 'base.html' %}

{% block title %}
<title>Todo list</title>
{% endblock title %}

{% block content %}
<div class='container'>
  <br/>
  {% for message in messages %}
  <div class='alert alert-info alert-dismissible fade show' role='alert'>
    {{message}}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  {% endfor %}
  <form method='POST'>
    {% csrf_token %}
    <div class="form-group"> 
      <input type="text" class="form-control"  name="task" placeholder="Enter New Task">
    </div>
   
    <button type="submit" class="btn btn-primary">Add Task</button>
  </form>
  <br/>
  <table class="table table-bordered">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Task</th>
        <th scope="col">Done</th>
        <th scope="col">Edit</th>
        <th scope="col">Delete</th>
      </tr>
    </thead>
    <tbody>
  {% for obj in all_tasks %}
      {% if  obj.done%}
      <tr class='table-success'>
        <td>{{obj.task}}</td>
        <td>Completed</td>
        <td>Edit</td>
        <td>Delete</td>
      </tr>
      {% else %}
      <tr class='table-danger'>
        <td>{{obj.task}}</td>
        <td>Not Completed</td>
        <td>Edit</td>
        <td>Delete</td>
      </tr>
      {% endif %}
          
  {% endfor %}
</tbody>
</table>
</div>   
{% endblock content %}